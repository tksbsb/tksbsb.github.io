import{_,i as P,d as S,P as R,e as v,m as W,r as d,o as a,c as n,w as c,v as o,a as r,t as g,F as y,f as I,g as p,u as O}from"./index.e660b16f.js";const D={name:"SearchResultView",components:{itemFrame:P,customPaginationVue:S},data(){return{PRODUCT_LIST:R,PRODUCTS_DROPDOWN:v,currPg:1,pageWidth:5,pageSize:12,ro:null,ctnrWidth:0}},methods:{toPage(e){this.currPg=e+1,this.scrollToTopPage(this.currPg+"SR")},getWidth(){this.ctnrWidth=this.$refs.ctnr.clientWidth,this.$refs.ctnr.clientWidth<576?this.pageWidth=1:this.$refs.ctnr.clientWidth>=576&&this.$refs.ctnr.clientWidth<768?this.pageWidth=5:this.pageWidth=7}},computed:{...W(O,["scrollToTopPage"]),filteredItems(){let e=[];e=this.PRODUCTS_DROPDOWN.filter(t=>{if(t.name.toLowerCase().search(this.$route.query.input)!==-1)return t});let i=[];return i=this.PRODUCT_LIST.filter(t=>{if(t.description.toLowerCase().search(this.$route.query.input)!==-1)return t;if(e.some(h=>h.pig===t.pig))return t}),i},displayedFilteredItems(){let e=[];return e=this.filteredItems.slice((this.currPg-1)*this.pageSize,this.currPg*this.pageSize),e},currentRecordNoStart(){return this.filteredItems.length===0?0:(this.currPg-1)*(this.pageSize-1)+this.currPg},currentRecordNoEnd(){return this.filteredItems.length-(this.currPg-1)*this.pageSize<this.pageSize?this.filteredItems.length:this.currPg===0?this.pageSize:this.currPg*this.pageSize}},mounted(){this.ro=new ResizeObserver(this.getWidth),this.ro.observe(this.$refs.ctnr)},beforeUnmount(){this.ro.unobserve(this.$refs.ctnr)}},w={class:"search-result container",ref:"ctnr"},T={class:"py-2",style:{height:"calc(100% - 40px - 88px)"}},z={class:"row",style:{height:"calc(100% - 40px - 88px)"}},C={class:"row",style:{height:"88px"}},x={class:"col text-center"};function N(e,i,t,h,l,s){const m=d("item-frame"),f=d("custom-pagination-vue");return a(),n("div",w,[c(r("h5",{class:"py-2",style:{height:"40px"}},' Search Results for "'+g(e.$route.query.input)+'" ',513),[[o,s.filteredItems.length>0]]),c(r("div",T,[r("b",null,'No results for "'+g(e.$route.query.input)+'"',1)],512),[[o,s.filteredItems.length==0]]),r("div",z,[(a(!0),n(y,null,I(s.displayedFilteredItems,u=>(a(),n("div",{key:u.pid,class:"col-6 col-lg-3 mb-4 px-3"},[p(m,{item:u},null,8,["item"])]))),128))]),c(r("div",C,[r("div",x,[p(f,{class:"mb-4 mt-2",totalRows:s.filteredItems.length,paginationWidth:l.pageWidth,pageSize:l.pageSize,onOnPage:s.toPage},null,8,["totalRows","paginationWidth","pageSize","onOnPage"])])],512),[[o,s.filteredItems.length>0]])],512)}const U=_(D,[["render",N],["__scopeId","data-v-4c0f9f4c"]]);export{U as default};
