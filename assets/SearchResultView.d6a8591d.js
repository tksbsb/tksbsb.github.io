import{_ as f,i as P,d as S,P as R,e as v,r as d,o as n,c as a,w as h,v as c,a as r,t as g,F as W,f as y,g as p}from"./index.90b56b28.js";const I={name:"SearchResultView",components:{itemFrame:P,customPaginationVue:S},data(){return{PRODUCT_LIST:R,PRODUCTS_DROPDOWN:v,currPg:1,pageWidth:5,pageSize:12,ro:null,ctnrWidth:0}},methods:{toPage(e){this.currPg=e+1},getWidth(){this.ctnrWidth=this.$refs.ctnr.clientWidth,this.$refs.ctnr.clientWidth<576?this.pageWidth=1:this.$refs.ctnr.clientWidth>=576&&this.$refs.ctnr.clientWidth<768?this.pageWidth=5:this.pageWidth=7}},computed:{filteredItems(){let e=[];e=this.PRODUCTS_DROPDOWN.filter(t=>{if(t.name.toLowerCase().search(this.$route.query.input)!==-1)return t});let i=[];return i=this.PRODUCT_LIST.filter(t=>{if(t.description.toLowerCase().search(this.$route.query.input)!==-1)return t;if(e.some(l=>l.pig===t.pig))return t}),i},displayedFilteredItems(){let e=[];return e=this.filteredItems.slice((this.currPg-1)*this.pageSize,this.currPg*this.pageSize),e},currentRecordNoStart(){return this.filteredItems.length===0?0:(this.currPg-1)*(this.pageSize-1)+this.currPg},currentRecordNoEnd(){return this.filteredItems.length-(this.currPg-1)*this.pageSize<this.pageSize?this.filteredItems.length:this.currPg===0?this.pageSize:this.currPg*this.pageSize}},mounted(){this.ro=new ResizeObserver(this.getWidth),this.ro.observe(this.$refs.ctnr)},beforeUnmount(){this.ro.unobserve(this.$refs.ctnr)}},O={class:"search-result container",ref:"ctnr"},D={class:"py-2",style:{height:"calc(100% - 40px - 88px)"}},w={class:"row",style:{height:"calc(100% - 40px - 88px)"}},z={class:"row",style:{height:"88px"}},x={class:"col text-center mt-2"};function C(e,i,t,l,o,s){const _=d("item-frame"),m=d("custom-pagination-vue");return n(),a("div",O,[h(r("h5",{class:"py-2",style:{height:"40px"}},' Search Results for "'+g(e.$route.query.input)+'" ',513),[[c,s.filteredItems.length>0]]),h(r("div",D,[r("b",null,'No results for "'+g(e.$route.query.input)+'"',1)],512),[[c,s.filteredItems.length==0]]),r("div",w,[(n(!0),a(W,null,y(s.displayedFilteredItems,u=>(n(),a("div",{key:u.pid,class:"col-6 col-lg-3 mb-4 px-3"},[p(_,{item:u},null,8,["item"])]))),128))]),h(r("div",z,[r("div",x,[p(m,{class:"mt-2",totalRows:s.filteredItems.length,paginationWidth:o.pageWidth,pageSize:o.pageSize,onOnPage:s.toPage},null,8,["totalRows","paginationWidth","pageSize","onOnPage"])])],512),[[c,s.filteredItems.length>0]])],512)}const N=f(I,[["render",C],["__scopeId","data-v-54e9edd3"]]);export{N as default};
