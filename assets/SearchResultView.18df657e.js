import{_ as m,o as n,c as l,a,w as r,F as d,r as p,n as v,t as b,d as h,i as w,P as k,e as y,f as _,g as f}from"./index.9f271a4e.js";const C={name:"customPagination",props:{pageSize:{type:Number,default:15},paginationWidth:{type:Number,default:5},totalRows:{type:Number,default:0},currentPage:{type:Number,default:1}},data(){return{currPage:1,pages:[]}},methods:{initPages(){this.pages=[];for(let s=1;s<=this.paginationWidth;s++)s===1?this.pages.push({value:s,active:s===this.currPage}):this.totalRows>(s-1)*this.pageSize&&this.pages.push({value:s,active:s===this.currPage})},setActivePage(){this.pages=this.pages.map(s=>(s.value===this.currPage?s.active=!0:s.active=!1,s))},toPage(s){this.currPage=s,this.centerCurrentPage(),this.setActivePage()},toFirst(){for(;this.pages[0].value>1;)this.pages.unshift({value:this.pages[0].value-1,active:!1}),this.pages.pop();this.currPage=1,this.setActivePage()},toPrev(){this.currPage-=1,this.centerCurrentPage(),this.setActivePage()},toLast(){for(;this.pages[this.pages.length-1].value<this.lastPage&&this.totalRows>this.pageSize;)this.pages.shift(),this.pages.push({value:this.pages[this.pages.length-1].value+1,active:!1});this.currPage=this.lastPage,this.setActivePage()},toNext(){this.currPage+=1,console.log(this.currPage),this.centerCurrentPage(),this.setActivePage(),this.$emit("onNext",this.currPage)},centerCurrentPage(){if(this.paginationWidth>1)if(this.currPage<this.pages[Math.floor(this.pages.length/2)].value)for(;this.currPage<this.pages[Math.floor(this.pages.length/2)].value&&this.pages[0].value>1;)this.pages.unshift({value:this.pages[0].value-1,active:!1}),this.pages.pop();else for(;this.currPage>this.pages[Math.floor(this.pages.length/2)].value&&this.pages[this.pages.length-1].value<this.lastPage&&this.totalRows>this.pageSize;)this.pages.shift(),this.pages.push({value:this.pages[this.pages.length-1].value+1,active:!1});else this.pages[0]={value:this.currPage,active:!0}}},computed:{lastPage(){return this.totalRows===this.pageSize?1:this.totalRows%this.pageSize===0?this.totalRows/this.pageSize:Math.floor(this.totalRows/this.pageSize)+1},currentRecordNoStart(){return this.totalRows===0?0:(this.currPage-1)*(this.pageSize-1)+this.currPage},currentRecordNoEnd(){return this.totalRows-(this.currPage-1)*this.pageSize<this.pageSize?this.totalRows:this.currPage*this.pageSize},isBackwardDisabled(){return this.currPage===this.lastPage},isForwardDisabled(){return this.currPage===1}},mounted(){this.initPages()},watch:{pageSize(){this.currPage=1,this.initPages()},paginationWidth(){this.currPage=1,this.initPages()},totalRows(){this.currPage=this.currentPage,this.initPages()},currentPage(s){this.toPage(s)},currPage(){this.$emit("onPage",this.currPage-1)}}},R={class:"custom-pagination container-fluid"},S={class:"row"},D={class:"col py-1"},N={key:0,class:"pagination pagination-std"},x={class:"btn-group btn-group-lg"},z=["disabled"],O=a("i",{class:"bi bi-skip-start-fill"},null,-1),F=[O],W=["disabled"],L=["onClick"],T=["disabled"],B=["disabled"],V=a("i",{class:"bi bi-skip-end-fill"},null,-1),A=[V],U={key:1,class:"pagination pagination-sm"},I={class:"btn-group btn-group-lg"},M=["disabled"],q=a("i",{class:"bi bi-skip-start-fill"},null,-1),E=[q],j=["disabled"],G=["onClick"],H=["disabled"],J=["disabled"],K=a("i",{class:"bi bi-skip-end-fill"},null,-1),Q=[K];function X(s,i,o,c,u,t){return n(),l("div",R,[a("div",S,[a("div",D,[o.paginationWidth>=2?(n(),l("div",N,[a("div",x,[a("button",{type:"button",class:"btn btn-default",disabled:t.isForwardDisabled,onClick:i[0]||(i[0]=r((...e)=>t.toFirst&&t.toFirst(...e),["prevent"]))},F,8,z),a("button",{type:"button",class:"btn btn-default",disabled:t.isForwardDisabled,onClick:i[1]||(i[1]=r((...e)=>t.toPrev&&t.toPrev(...e),["prevent"]))}," Prev ",8,W),(n(!0),l(d,null,p(u.pages,e=>(n(),l("button",{type:"button",key:e.value,class:v([e.active?"active":" "," btn btn-default"]),onClick:r(g=>t.toPage(e.value),["prevent"])},b(e.value),11,L))),128)),a("button",{type:"button",disabled:t.isBackwardDisabled,onClick:i[2]||(i[2]=r((...e)=>t.toNext&&t.toNext(...e),["prevent"])),class:"btn btn-default"}," Next ",8,T),a("button",{type:"button",disabled:t.isBackwardDisabled,onClick:i[3]||(i[3]=r((...e)=>t.toLast&&t.toLast(...e),["prevent"])),class:"btn btn-default"},A,8,B)])])):h("",!0),o.paginationWidth<2?(n(),l("div",U,[a("div",I,[a("button",{type:"button",class:"btn btn-default",disabled:t.isForwardDisabled,onClick:i[4]||(i[4]=r(e=>t.toPage(1),["prevent"]))},E,8,M),u.currPage>5?(n(),l("button",{key:0,type:"button",class:"btn btn-default",onClick:i[5]||(i[5]=r(e=>t.toPage(u.currPage-5),["prevent"]))}," -5 ")):h("",!0),a("button",{type:"button",class:"btn btn-default",disabled:t.isForwardDisabled,onClick:i[6]||(i[6]=r((...e)=>t.toPrev&&t.toPrev(...e),["prevent"]))}," Prev ",8,j),(n(!0),l(d,null,p(u.pages,e=>(n(),l("button",{type:"button",key:e.value,class:v([e.active?"active":" "," btn btn-default"]),onClick:r(g=>t.toPage(e.value),["prevent"])},b(e.value),11,G))),128)),a("button",{type:"button",disabled:t.isBackwardDisabled,onClick:i[7]||(i[7]=r((...e)=>t.toNext&&t.toNext(...e),["prevent"])),class:"btn btn-default"}," Next ",8,H),u.currPage<t.lastPage-5?(n(),l("button",{key:1,type:"button",class:"btn btn-default",onClick:i[8]||(i[8]=r(e=>t.toPage(u.currPage+5),["prevent"]))}," +5 ")):h("",!0),a("button",{type:"button",disabled:t.isBackwardDisabled,onClick:i[9]||(i[9]=r(e=>t.toPage(t.lastPage),["prevent"])),class:"btn btn-default"},Q,8,J)])])):h("",!0)])])])}const Y=m(C,[["render",X]]);const Z={name:"SearchResultView",components:{itemFrame:w,customPaginationVue:Y},data(){return{PRODUCT_LIST:k,PRODUCTS_DROPDOWN:y,currPg:1}},methods:{toPage(s){this.currPg=s}},computed:{filteredItems(){let s=[];s=this.PRODUCTS_DROPDOWN.filter(o=>{if(o.name.toLowerCase().search(this.$route.query.input)!==-1)return o});let i=[];return i=this.PRODUCT_LIST.filter(o=>{if(o.description.toLowerCase().search(this.$route.query.input)!==-1)return o;if(s.some(c=>c.pig===o.pig))return o}),i}},mounted(){console.log("width",this.$refs.ctnr.clientWidth)}},$={class:"search-result container",ref:"ctnr"},tt={class:"row"},et=a("div",{class:"row"},null,-1);function st(s,i,o,c,u,t){const e=_("custom-pagination-vue"),g=_("item-frame");return n(),l("div",$,[a("h3",null,"Results "+b(u.currPg),1),f(e,{totalRows:150,paginationWidth:5,pageSize:15,onOnPage:t.toPage},null,8,["onOnPage"]),a("div",tt,[(n(!0),l(d,null,p(t.filteredItems,P=>(n(),l("div",{key:P.pid,class:"col-6 col-lg-3 mb-4 px-0"},[f(g,{item:P},null,8,["item"])]))),128))]),et],512)}const at=m(Z,[["render",st]]);export{at as default};
