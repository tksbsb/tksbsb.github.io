import{_,i as p,d as m,P as f,e as P,r as l,o as n,c as a,a as r,t as R,F as S,f as W,g as u}from"./index.04b0e1ea.js";const O={name:"SearchResultView",components:{itemFrame:p,customPaginationVue:m},data(){return{PRODUCT_LIST:f,PRODUCTS_DROPDOWN:P,currPg:1,pageWidth:5,pageSize:12,ro:null,ctnrWidth:0}},methods:{toPage(e){this.currPg=e},getWidth(){this.ctnrWidth=this.$refs.ctnr.clientWidth,this.$refs.ctnr.clientWidth<576?this.pageWidth=1:this.$refs.ctnr.clientWidth>=576&&this.$refs.ctnr.clientWidth<768?this.pageWidth=5:this.pageWidth=7}},computed:{filteredItems(){let e=[];e=this.PRODUCTS_DROPDOWN.filter(t=>{if(t.name.toLowerCase().search(this.$route.query.input)!==-1)return t});let s=[];return s=this.PRODUCT_LIST.filter(t=>{if(t.description.toLowerCase().search(this.$route.query.input)!==-1)return t;if(e.some(o=>o.pig===t.pig))return t}),s},displayedFilteredItems(){let e=[];return e=this.filteredItems.slice(this.currentRecordNoStart-1,this.currentRecordNoEnd),e},currentRecordNoStart(){return this.filteredItems.length===0?0:this.currPg===0?1:(this.currPg-1)*(this.pageSize-1)+this.currPg},currentRecordNoEnd(){return this.filteredItems.length-(this.currPg-1)*this.pageSize<this.pageSize?this.filteredItems.length:this.currPg===0?this.pageSize:this.currPg*this.pageSize}},mounted(){this.ro=new ResizeObserver(this.getWidth),this.ro.observe(this.$refs.ctnr)},beforeUnmount(){this.ro.unobserve(this.$refs.ctnr)}},v={class:"search-result container",ref:"ctnr"},D={class:"row"},I={class:"row"},b={class:"col text-center"};function w(e,s,t,o,c,i){const d=l("item-frame"),g=l("custom-pagination-vue");return n(),a("div",v,[r("h3",null,'Search Results "'+R(e.$route.query.input)+'"',1),r("div",D,[(n(!0),a(S,null,W(i.displayedFilteredItems,h=>(n(),a("div",{key:h.pid,class:"col-6 col-lg-3 mb-4 px-3"},[u(d,{item:h},null,8,["item"])]))),128))]),r("div",I,[r("div",b,[u(g,{totalRows:i.filteredItems.length,paginationWidth:c.pageWidth,pageSize:c.pageSize,onOnPage:i.toPage},null,8,["totalRows","paginationWidth","pageSize","onOnPage"])])])],512)}const C=_(O,[["render",w],["__scopeId","data-v-b3b680bd"]]);export{C as default};
