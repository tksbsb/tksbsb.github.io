import{_ as w,o as n,c as l,a as i,w as r,F as p,r as b,n as _,t as v,d as c,p as k,e as y,i as C,P as R,f as S,g as f,h as m}from"./index.db51aa2f.js";const D={name:"customPagination",props:{pageSize:{type:Number,default:15},paginationWidth:{type:Number,default:5},totalRows:{type:Number,default:0},currentPage:{type:Number,default:1}},data(){return{currPage:1,pages:[]}},methods:{initPages(){this.pages=[];for(let t=1;t<=this.paginationWidth;t++)t===1?this.pages.push({value:t,active:t===this.currPage}):this.totalRows>(t-1)*this.pageSize&&this.pages.push({value:t,active:t===this.currPage})},setActivePage(){this.pages=this.pages.map(t=>(t.value===this.currPage?t.active=!0:t.active=!1,t))},toPage(t){this.currPage=t,this.centerCurrentPage(),this.setActivePage()},toFirst(){for(;this.pages[0].value>1;)this.pages.unshift({value:this.pages[0].value-1,active:!1}),this.pages.pop();this.currPage=1,this.setActivePage()},toPrev(){this.currPage-=1,this.centerCurrentPage(),this.setActivePage()},toLast(){for(;this.pages[this.pages.length-1].value<this.lastPage&&this.totalRows>this.pageSize;)this.pages.shift(),this.pages.push({value:this.pages[this.pages.length-1].value+1,active:!1});this.currPage=this.lastPage,this.setActivePage()},toNext(){this.currPage+=1,console.log(this.currPage),this.centerCurrentPage(),this.setActivePage(),this.$emit("onNext",this.currPage)},centerCurrentPage(){if(this.paginationWidth>1)if(this.currPage<this.pages[Math.floor(this.pages.length/2)].value)for(;this.currPage<this.pages[Math.floor(this.pages.length/2)].value&&this.pages[0].value>1;)this.pages.unshift({value:this.pages[0].value-1,active:!1}),this.pages.pop();else for(;this.currPage>this.pages[Math.floor(this.pages.length/2)].value&&this.pages[this.pages.length-1].value<this.lastPage&&this.totalRows>this.pageSize;)this.pages.shift(),this.pages.push({value:this.pages[this.pages.length-1].value+1,active:!1});else this.pages[0]={value:this.currPage,active:!0}}},computed:{lastPage(){return this.totalRows===this.pageSize?1:this.totalRows%this.pageSize===0?this.totalRows/this.pageSize:Math.floor(this.totalRows/this.pageSize)+1},currentRecordNoStart(){return this.totalRows===0?0:(this.currPage-1)*(this.pageSize-1)+this.currPage},currentRecordNoEnd(){return this.totalRows-(this.currPage-1)*this.pageSize<this.pageSize?this.totalRows:this.currPage*this.pageSize},isBackwardDisabled(){return this.currPage===this.lastPage},isForwardDisabled(){return this.currPage===1}},mounted(){this.initPages()},watch:{pageSize(){this.currPage=1,this.initPages()},paginationWidth(){this.currPage=1,this.initPages()},totalRows(){this.currPage=this.currentPage,this.initPages()},currentPage(t){this.toPage(t)},currPage(){this.$emit("onPage",this.currPage-1)}}},h=t=>(k("data-v-3a45cfad"),t=t(),y(),t),N={class:"custom-pagination container-fluid"},x={class:"row"},z={class:"col py-1"},O={key:0,class:"pagination pagination-std"},F={class:"btn-group btn-group-lg"},I=["disabled"],W=h(()=>i("i",{class:"bi bi-skip-start-fill"},null,-1)),L=[W],T=["disabled"],B=["onClick"],V=["disabled"],A=["disabled"],U=h(()=>i("i",{class:"bi bi-skip-end-fill"},null,-1)),M=[U],q={key:1,class:"pagination pagination-sm"},E={class:"btn-group btn-group-lg"},j=["disabled"],G=h(()=>i("i",{class:"bi bi-skip-start-fill"},null,-1)),H=[G],J=["disabled"],K=["onClick"],Q=["disabled"],X=["disabled"],Y=h(()=>i("i",{class:"bi bi-skip-end-fill"},null,-1)),Z=[Y];function $(t,a,o,d,u,e){return n(),l("div",N,[i("div",x,[i("div",z,[o.paginationWidth>=2?(n(),l("div",O,[i("div",F,[i("button",{type:"button",class:"btn btn-default",disabled:e.isForwardDisabled,onClick:a[0]||(a[0]=r((...s)=>e.toFirst&&e.toFirst(...s),["prevent"]))},L,8,I),i("button",{type:"button",class:"btn btn-default",disabled:e.isForwardDisabled,onClick:a[1]||(a[1]=r((...s)=>e.toPrev&&e.toPrev(...s),["prevent"]))}," Prev ",8,T),(n(!0),l(p,null,b(u.pages,s=>(n(),l("button",{type:"button",key:s.value,class:_([s.active?"active":" "," btn btn-default"]),onClick:r(g=>e.toPage(s.value),["prevent"])},v(s.value),11,B))),128)),i("button",{type:"button",disabled:e.isBackwardDisabled,onClick:a[2]||(a[2]=r((...s)=>e.toNext&&e.toNext(...s),["prevent"])),class:"btn btn-default"}," Next ",8,V),i("button",{type:"button",disabled:e.isBackwardDisabled,onClick:a[3]||(a[3]=r((...s)=>e.toLast&&e.toLast(...s),["prevent"])),class:"btn btn-default"},M,8,A)])])):c("",!0),o.paginationWidth<2?(n(),l("div",q,[i("div",E,[i("button",{type:"button",class:"btn btn-default",disabled:e.isForwardDisabled,onClick:a[4]||(a[4]=r(s=>e.toPage(1),["prevent"]))},H,8,j),u.currPage>5?(n(),l("button",{key:0,type:"button",class:"btn btn-default",onClick:a[5]||(a[5]=r(s=>e.toPage(u.currPage-5),["prevent"]))}," -5 ")):c("",!0),i("button",{type:"button",class:"btn btn-default",disabled:e.isForwardDisabled,onClick:a[6]||(a[6]=r((...s)=>e.toPrev&&e.toPrev(...s),["prevent"]))}," Prev ",8,J),(n(!0),l(p,null,b(u.pages,s=>(n(),l("button",{type:"button",key:s.value,class:_([s.active?"active":" "," btn btn-default"]),onClick:r(g=>e.toPage(s.value),["prevent"])},v(s.value),11,K))),128)),i("button",{type:"button",disabled:e.isBackwardDisabled,onClick:a[7]||(a[7]=r((...s)=>e.toNext&&e.toNext(...s),["prevent"])),class:"btn btn-default"}," Next ",8,Q),u.currPage<e.lastPage-5?(n(),l("button",{key:1,type:"button",class:"btn btn-default",onClick:a[8]||(a[8]=r(s=>e.toPage(u.currPage+5),["prevent"]))}," +5 ")):c("",!0),i("button",{type:"button",disabled:e.isBackwardDisabled,onClick:a[9]||(a[9]=r(s=>e.toPage(e.lastPage),["prevent"])),class:"btn btn-default"},Z,8,X)])])):c("",!0)])])])}const tt=w(D,[["render",$],["__scopeId","data-v-3a45cfad"]]);const et={name:"SearchResultView",components:{itemFrame:C,customPaginationVue:tt},data(){return{PRODUCT_LIST:R,PRODUCTS_DROPDOWN:S,currPg:1}},methods:{toPage(t){this.currPg=t}},computed:{filteredItems(){let t=[];t=this.PRODUCTS_DROPDOWN.filter(o=>{if(o.name.toLowerCase().search(this.$route.query.input)!==-1)return o});let a=[];return a=this.PRODUCT_LIST.filter(o=>{if(o.description.toLowerCase().search(this.$route.query.input)!==-1)return o;if(t.some(d=>d.pig===o.pig))return o}),a}},mounted(){console.log("width",this.$refs.ctnr.clientWidth)}},st=t=>(k("data-v-4f2f5da4"),t=t(),y(),t),at={class:"search-result container",ref:"ctnr"},it={class:"row"},rt=st(()=>i("div",{class:"row"},null,-1));function nt(t,a,o,d,u,e){const s=f("custom-pagination-vue"),g=f("item-frame");return n(),l("div",at,[i("h3",null,"Results "+v(u.currPg),1),m(s,{totalRows:150,paginationWidth:5,pageSize:15,onOnPage:e.toPage},null,8,["onOnPage"]),i("div",it,[(n(!0),l(p,null,b(e.filteredItems,P=>(n(),l("div",{key:P.pid,class:"col-6 col-lg-3 mb-4 px-0"},[m(g,{item:P},null,8,["item"])]))),128))]),rt],512)}const ot=w(et,[["render",nt],["__scopeId","data-v-4f2f5da4"]]);export{ot as default};
