import{_ as f,i as P,e as S,P as v,f as R,m as W,r as d,o as i,c as a,a as t,w as u,v as g,t as n,b as I,g as w,F as y,h as x,j as m,u as T}from"./index.60f94533.js";const z={name:"SearchResultView",components:{itemFrame:P,customPaginationVue:S},data(){return{PRODUCT_LIST:v,PRODUCTS_DROPDOWN:R,currPg:1,pageWidth:5,pageSize:12,ro:null,ctnrWidth:0}},methods:{toPage(e){this.currPg=e+1,this.scrollToTopPage(this.currPg+"SR")},getWidth(){this.ctnrWidth=this.$refs.ctnr.clientWidth,this.$refs.ctnr.clientWidth<576?this.pageWidth=1:this.$refs.ctnr.clientWidth>=576&&this.$refs.ctnr.clientWidth<768?this.pageWidth=5:this.pageWidth=7}},computed:{...W(T,["scrollToTopPage"]),filteredItems(){let e=[],o=[];return o=this.PRODUCT_LIST.filter(r=>{if(r.description.toLowerCase().search(this.$route.query.input.toLowerCase())!==-1)return r;if(e.some(l=>l.pig===r.pig))return r}),o},displayedFilteredItems(){let e=[];return e=this.filteredItems.slice((this.currPg-1)*this.pageSize,this.currPg*this.pageSize),e},currentRecordNoStart(){return this.filteredItems.length===0?0:(this.currPg-1)*(this.pageSize-1)+this.currPg},currentRecordNoEnd(){return this.filteredItems.length-(this.currPg-1)*this.pageSize<this.pageSize?this.filteredItems.length:this.currPg===0?this.pageSize:this.currPg*this.pageSize}},mounted(){this.ro=new ResizeObserver(this.getWidth),this.ro.observe(this.$refs.ctnr)},beforeUnmount(){this.ro.unobserve(this.$refs.ctnr)}},O={class:"search-result container",ref:"ctnr"},C={class:"row"},D={class:"col"},b={class:"py-2",style:{height:"50px"}},N={key:0,class:"py-2",style:{height:"calc(100% - 50px - 88px)"}},V={class:"row row-result"},L={class:"row flex-fill align-items-end"},U={class:"col text-center",style:{height:"88px"}};function F(e,o,r,l,c,s){const p=d("item-frame"),_=d("custom-pagination-vue");return i(),a("div",O,[t("div",C,[t("div",D,[u(t("h6",b,[t("strong",null,n(this.filteredItems.length),1),I(' results for "'+n(e.$route.query.input)+'" ',1)],512),[[g,s.filteredItems.length>0]]),s.filteredItems.length==0?(i(),a("div",N,[t("b",null,'No results for "'+n(e.$route.query.input)+'"',1)])):w("",!0)])]),t("div",V,[(i(!0),a(y,null,x(s.displayedFilteredItems,h=>(i(),a("div",{key:h.pid,class:"col-6 col-md-4 col-xl-3 col-xxl-2 mb-4 px-1"},[m(p,{item:h},null,8,["item"])]))),128))]),u(t("div",L,[t("div",U,[m(_,{class:"mb-4 mt-2",totalRows:s.filteredItems.length,paginationWidth:c.pageWidth,pageSize:c.pageSize,onOnPage:s.toPage},null,8,["totalRows","paginationWidth","pageSize","onOnPage"])])],512),[[g,s.filteredItems.length>0]])],512)}const k=f(z,[["render",F],["__scopeId","data-v-eb6f2fea"]]);export{k as default};
